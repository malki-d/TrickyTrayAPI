2025-12-23 18:55:01.754 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 18:55:01.793 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 18:55:01.856 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 18:55:01.859 +02:00 [INF] Hosting environment: Development
2025-12-23 18:55:01.860 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 18:55:02.355 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 18:55:02.543 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 195.1399ms
2025-12-23 18:55:02.549 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 18:55:02.551 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 18:55:02.564 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 15.5744ms
2025-12-23 18:55:02.604 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.9656ms
2025-12-23 18:55:02.640 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 18:55:02.659 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.7162ms
2025-12-23 18:55:05.734 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 18:55:05.747 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 18:55:05.767 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.CreateDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 18:55:05.774 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 1.7724ms
2025-12-23 18:55:05.784 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 18:55:05.789 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 18:55:05.830 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 96.9076ms
2025-12-23 18:56:03.495 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 18:56:03.527 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 18:56:03.598 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 18:56:03.609 +02:00 [INF] Hosting environment: Development
2025-12-23 18:56:03.613 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 18:56:04.013 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 18:56:04.174 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 166.6282ms
2025-12-23 18:56:04.178 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 18:56:04.178 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 18:56:04.198 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 19.9356ms
2025-12-23 18:56:04.224 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.7871ms
2025-12-23 18:56:04.255 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 18:56:04.275 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 20.3235ms
2025-12-23 18:56:06.506 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 18:56:06.517 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 18:56:06.536 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.CreateDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 18:56:06.542 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 1.7952ms
2025-12-23 18:56:06.546 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 18:56:06.550 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 18:56:06.590 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 85.167ms
2025-12-23 18:59:29.210 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 18:59:29.245 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 18:59:29.420 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 18:59:29.435 +02:00 [INF] Hosting environment: Development
2025-12-23 18:59:29.437 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 18:59:29.912 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 18:59:30.090 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 183.27ms
2025-12-23 18:59:30.093 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 18:59:30.095 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 18:59:30.106 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 12.7598ms
2025-12-23 18:59:30.141 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.4607ms
2025-12-23 18:59:30.172 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 18:59:30.191 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.2862ms
2025-12-23 18:59:33.348 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 18:59:33.357 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 18:59:33.379 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 18:59:33.387 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 2.2192ms
2025-12-23 18:59:33.390 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 18:59:33.394 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 18:59:33.444 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 96.6374ms
2025-12-23 19:00:50.894 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 19:00:50.924 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 19:00:50.992 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 19:00:50.994 +02:00 [INF] Hosting environment: Development
2025-12-23 19:00:50.998 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 19:00:51.580 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 19:00:51.729 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 154.4473ms
2025-12-23 19:00:51.737 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 19:00:51.738 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 19:00:51.754 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 16.9327ms
2025-12-23 19:00:51.791 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.0347ms
2025-12-23 19:00:51.837 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 19:00:51.853 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.5956ms
2025-12-23 19:00:54.241 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:00:54.276 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:00:54.294 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:00:54.305 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 1.8002ms
2025-12-23 19:00:54.307 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:00:54.311 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 19:00:54.337 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 96.4456ms
2025-12-23 19:04:23.656 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 19:04:23.699 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 19:04:23.766 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 19:04:23.773 +02:00 [INF] Hosting environment: Development
2025-12-23 19:04:23.775 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 19:04:24.195 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 19:04:24.358 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 168.0641ms
2025-12-23 19:04:24.363 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 19:04:24.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 19:04:24.384 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 21.4426ms
2025-12-23 19:04:24.420 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0938ms
2025-12-23 19:04:24.463 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 19:04:24.485 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 22.6261ms
2025-12-23 19:04:26.908 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:04:26.924 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:04:26.942 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:04:26.949 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 1.7823ms
2025-12-23 19:04:26.953 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:04:26.958 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 19:04:27.003 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 95.6299ms
2025-12-23 19:04:31.143 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:04:31.152 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:04:31.156 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:04:31.161 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 0.686ms
2025-12-23 19:04:31.164 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:04:31.169 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 19:04:31.174 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 31.6823ms
2025-12-23 19:04:31.641 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:04:31.650 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:04:31.654 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:04:31.658 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 0.686ms
2025-12-23 19:04:31.661 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:04:31.664 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 19:04:31.672 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 31.9957ms
2025-12-23 19:04:31.937 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:04:31.944 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:04:31.947 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:04:31.951 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 1.1349ms
2025-12-23 19:04:31.954 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:04:31.957 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 19:04:31.963 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 27.314ms
2025-12-23 19:04:32.125 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:04:32.129 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:04:32.132 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:04:32.138 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 0.7527ms
2025-12-23 19:04:32.141 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:04:32.144 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 19:04:32.154 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 29.1052ms
2025-12-23 19:04:53.017 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Donors - application/json 80
2025-12-23 19:04:53.028 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.Create (TrickyTrayAPI)'
2025-12-23 19:04:53.040 +02:00 [INF] Route matched with {action = "Create", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Donor]] Create(TrickyTrayAPI.DTOs.CreateDonorDTO) on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:04:53.043 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.Create (TrickyTrayAPI) in 0.3896ms
2025-12-23 19:04:53.045 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.Create (TrickyTrayAPI)'
2025-12-23 19:04:53.047 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method17(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 19:04:53.057 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 39.7145ms
2025-12-23 19:07:39.135 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 19:07:39.167 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 19:07:39.233 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 19:07:39.236 +02:00 [INF] Hosting environment: Development
2025-12-23 19:07:39.237 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 19:07:39.541 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 19:07:39.717 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 184.4394ms
2025-12-23 19:07:39.725 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 19:07:39.726 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 19:07:39.735 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 10.3073ms
2025-12-23 19:07:39.765 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 39.0191ms
2025-12-23 19:07:39.793 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 19:07:39.811 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.0812ms
2025-12-23 19:07:42.640 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:07:42.650 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:07:42.668 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:07:42.677 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 1.8304ms
2025-12-23 19:07:42.680 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:07:42.684 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 19:07:42.726 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 85.5566ms
2025-12-23 19:08:26.933 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 19:08:26.961 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 19:08:27.038 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 19:08:27.041 +02:00 [INF] Hosting environment: Development
2025-12-23 19:08:27.043 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 19:08:27.439 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 19:08:27.597 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 163.4903ms
2025-12-23 19:08:27.597 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 19:08:27.602 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 19:08:27.614 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 17.357ms
2025-12-23 19:08:27.649 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 47.6151ms
2025-12-23 19:08:27.682 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 19:08:27.698 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.2239ms
2025-12-23 19:08:29.845 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:08:29.857 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:08:29.874 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:08:29.880 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 1.5982ms
2025-12-23 19:08:29.883 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:08:29.888 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 19:08:29.923 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 78.3537ms
2025-12-23 19:10:04.957 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 19:10:04.995 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 19:10:05.063 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 19:10:05.066 +02:00 [INF] Hosting environment: Development
2025-12-23 19:10:05.067 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 19:10:05.499 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 19:10:05.646 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 152.9844ms
2025-12-23 19:10:05.650 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 19:10:05.655 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 19:10:05.666 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 15.2861ms
2025-12-23 19:10:05.697 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 42.9803ms
2025-12-23 19:10:05.725 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 19:10:05.750 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 24.9829ms
2025-12-23 19:10:07.934 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:10:07.944 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:10:07.962 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:10:07.979 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 2.3439ms
2025-12-23 19:10:07.987 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:10:07.991 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: Unable to resolve service for type 'TrickyTrayAPI.Services.IDonorService' while attempting to activate 'TrickyTrayAPI.Controllers.DonorsController'.
   at Microsoft.Extensions.DependencyInjection.ActivatorUtilities.ThrowHelperUnableToResolveService(Type type, Type requiredBy)
   at lambda_method9(Closure, IServiceProvider, Object[])
   at Microsoft.AspNetCore.Mvc.Controllers.ControllerFactoryProvider.<>c__DisplayClass6_0.<CreateControllerFactory>g__CreateController|0(ControllerContext controllerContext)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 19:10:08.044 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 500 null text/plain; charset=utf-8 110.8205ms
2025-12-23 19:11:14.343 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 19:11:14.386 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 19:11:14.455 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 19:11:14.457 +02:00 [INF] Hosting environment: Development
2025-12-23 19:11:14.459 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 19:11:14.840 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 19:11:14.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 161.311ms
2025-12-23 19:11:15.001 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 19:11:15.006 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 19:11:15.025 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 23.9601ms
2025-12-23 19:11:15.058 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.6679ms
2025-12-23 19:11:15.091 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 19:11:15.106 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.292ms
2025-12-23 19:11:17.519 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:11:17.531 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:11:17.550 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:11:19.732 +02:00 [INF] Executed DbCommand (39ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[PhoneNumber]
FROM [Donors] AS [d]
2025-12-23 19:11:19.829 +02:00 [INF] get donors
2025-12-23 19:11:19.846 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TrickyTrayAPI.Models.Donor, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TrickyTrayAPI.DTOs.GetDonorDTO, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-23 19:11:19.862 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 2302.4236ms
2025-12-23 19:11:19.866 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:11:19.880 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 200 null application/json; charset=utf-8 2361.9971ms
2025-12-23 19:11:54.047 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 19:11:54.123 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 19:11:54.253 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 19:11:54.276 +02:00 [INF] Hosting environment: Development
2025-12-23 19:11:54.304 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 19:11:54.508 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 19:11:54.669 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 166.3267ms
2025-12-23 19:11:54.675 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 19:11:54.675 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 19:11:54.692 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 18.7071ms
2025-12-23 19:11:54.725 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.9786ms
2025-12-23 19:11:54.762 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 19:11:54.778 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.1323ms
2025-12-23 19:11:57.078 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:11:57.088 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:11:57.107 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:11:59.730 +02:00 [INF] Executed DbCommand (32ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[PhoneNumber]
FROM [Donors] AS [d]
2025-12-23 19:11:59.818 +02:00 [INF] get donors
2025-12-23 19:11:59.834 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TrickyTrayAPI.Models.Donor, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TrickyTrayAPI.DTOs.GetDonorDTO, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-23 19:11:59.859 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 2743.827ms
2025-12-23 19:11:59.864 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:11:59.883 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 200 null application/json; charset=utf-8 2805.9342ms
2025-12-23 19:12:04.383 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Donors - application/json 80
2025-12-23 19:12:04.390 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.Create (TrickyTrayAPI)'
2025-12-23 19:12:04.400 +02:00 [INF] Route matched with {action = "Create", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Donor]] Create(TrickyTrayAPI.DTOs.CreateDonorDTO) on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:12:04.464 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-23 19:12:04.478 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.Create (TrickyTrayAPI) in 76.4398ms
2025-12-23 19:12:04.480 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.Create (TrickyTrayAPI)'
2025-12-23 19:12:04.482 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Donors - 400 null application/problem+json; charset=utf-8 98.455ms
2025-12-23 19:12:26.496 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Donors - application/json 84
2025-12-23 19:12:26.508 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.Create (TrickyTrayAPI)'
2025-12-23 19:12:26.511 +02:00 [INF] Route matched with {action = "Create", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Donor]] Create(TrickyTrayAPI.DTOs.CreateDonorDTO) on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:12:26.769 +02:00 [INF] Executed DbCommand (104ms) [Parameters=[@p0='?' (Size = 4000), @p1='?' (Size = 100), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Donors] ([Email], [Name], [PhoneNumber])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2);
2025-12-23 19:12:26.798 +02:00 [INF] create donor 2
2025-12-23 19:12:26.801 +02:00 [INF] Executing CreatedAtActionResult, writing value of type 'TrickyTrayAPI.Models.Donor'.
2025-12-23 19:12:26.834 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.Create (TrickyTrayAPI) in 320.6935ms
2025-12-23 19:12:26.837 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.Create (TrickyTrayAPI)'
2025-12-23 19:12:26.839 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Donors - 201 null application/json; charset=utf-8 344.2055ms
2025-12-23 19:12:39.220 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors/2 - null null
2025-12-23 19:12:39.226 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetById (TrickyTrayAPI)'
2025-12-23 19:12:39.233 +02:00 [INF] Route matched with {action = "GetById", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.CreateDonorDTO]] GetById(Int32) on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:12:39.379 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[PhoneNumber]
FROM [Donors] AS [d]
WHERE [d].[Id] = @__id_0
2025-12-23 19:12:39.382 +02:00 [INF] get donor by id 2
2025-12-23 19:12:39.383 +02:00 [INF] Executing OkObjectResult, writing value of type 'TrickyTrayAPI.DTOs.GetDonorDTO'.
2025-12-23 19:12:39.385 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetById (TrickyTrayAPI) in 148.2479ms
2025-12-23 19:12:39.394 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetById (TrickyTrayAPI)'
2025-12-23 19:12:39.397 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors/2 - 200 null application/json; charset=utf-8 177.4129ms
2025-12-23 19:13:03.011 +02:00 [INF] Request starting HTTP/2 PUT https://localhost:7260/api/Donors/2 - application/json 88
2025-12-23 19:13:03.025 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.Update (TrickyTrayAPI)'
2025-12-23 19:13:03.032 +02:00 [INF] Route matched with {action = "Update", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Donor]] Update(Int32, TrickyTrayAPI.Models.Donor) on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:13:03.069 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT CASE
    WHEN EXISTS (
        SELECT 1
        FROM [Donors] AS [d]
        WHERE [d].[Id] = @__id_0) THEN CAST(1 AS bit)
    ELSE CAST(0 AS bit)
END
2025-12-23 19:13:03.076 +02:00 [INF] check Exists donor 2
2025-12-23 19:13:03.084 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[@p3='?' (DbType = Int32), @p0='?' (Size = 4000), @p1='?' (Size = 100), @p2='?' (Size = 4000)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
UPDATE [Donors] SET [Email] = @p0, [Name] = @p1, [PhoneNumber] = @p2
OUTPUT 1
WHERE [Id] = @p3;
2025-12-23 19:13:03.087 +02:00 [INF] update donor 2
2025-12-23 19:13:03.088 +02:00 [INF] Executing OkObjectResult, writing value of type 'TrickyTrayAPI.Models.Donor'.
2025-12-23 19:13:03.090 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.Update (TrickyTrayAPI) in 52.9686ms
2025-12-23 19:13:03.100 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.Update (TrickyTrayAPI)'
2025-12-23 19:13:03.102 +02:00 [INF] Request finished HTTP/2 PUT https://localhost:7260/api/Donors/2 - 200 null application/json; charset=utf-8 91.3578ms
2025-12-23 19:13:08.250 +02:00 [INF] Request starting HTTP/2 DELETE https://localhost:7260/api/Donors/2 - null null
2025-12-23 19:13:08.271 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.Delete (TrickyTrayAPI)'
2025-12-23 19:13:08.280 +02:00 [INF] Route matched with {action = "Delete", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult] Delete(Int32) on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:13:08.332 +02:00 [INF] Executed DbCommand (4ms) [Parameters=[@__p_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [d].[Id], [d].[Email], [d].[Name], [d].[PhoneNumber]
FROM [Donors] AS [d]
WHERE [d].[Id] = @__p_0
2025-12-23 19:13:08.349 +02:00 [INF] Executed DbCommand (6ms) [Parameters=[@p0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
DELETE FROM [Donors]
OUTPUT 1
WHERE [Id] = @p0;
2025-12-23 19:13:08.352 +02:00 [INF] delete donor 2
2025-12-23 19:13:08.356 +02:00 [INF] Executing StatusCodeResult, setting HTTP status code 204
2025-12-23 19:13:08.358 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.Delete (TrickyTrayAPI) in 72.9417ms
2025-12-23 19:13:08.359 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.Delete (TrickyTrayAPI)'
2025-12-23 19:13:08.360 +02:00 [INF] Request finished HTTP/2 DELETE https://localhost:7260/api/Donors/2 - 204 null null 110.517ms
2025-12-23 19:13:19.872 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 19:13:19.876 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:13:19.877 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 19:13:19.883 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[PhoneNumber]
FROM [Donors] AS [d]
2025-12-23 19:13:19.885 +02:00 [INF] get donors
2025-12-23 19:13:19.887 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TrickyTrayAPI.Models.Donor, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TrickyTrayAPI.DTOs.GetDonorDTO, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-23 19:13:19.889 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 8.2933ms
2025-12-23 19:13:19.890 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 19:13:19.892 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 200 null application/json; charset=utf-8 19.5752ms
2025-12-23 20:22:28.542 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:22:28.575 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:22:28.649 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:22:28.654 +02:00 [INF] Hosting environment: Development
2025-12-23 20:22:28.659 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:22:28.818 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:22:28.978 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 167.6672ms
2025-12-23 20:22:28.985 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:22:28.996 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 11.1429ms
2025-12-23 20:22:29.015 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:22:29.052 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 37.5157ms
2025-12-23 20:22:29.147 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:22:29.174 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 27.0903ms
2025-12-23 20:22:32.081 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Gift - null null
2025-12-23 20:22:32.090 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.GetAll (TrickyTrayAPI)'
2025-12-23 20:22:32.106 +02:00 [INF] Route matched with {action = "GetAll", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetGiftDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:22:34.758 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[TypeGift], [g].[WinnerId]
FROM [Gifts] AS [g]
2025-12-23 20:22:34.777 +02:00 [INF] get gifts
2025-12-23 20:22:34.783 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TrickyTrayAPI.Models.Gift, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TrickyTrayAPI.DTOs.GetGiftDTO, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-23 20:22:34.793 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.GetAll (TrickyTrayAPI) in 2681.1983ms
2025-12-23 20:22:34.796 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.GetAll (TrickyTrayAPI)'
2025-12-23 20:22:34.802 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Gift - 200 null application/json; charset=utf-8 2721.4116ms
2025-12-23 20:22:46.053 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 101
2025-12-23 20:22:46.060 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:22:46.074 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:22:46.390 +02:00 [INF] Executed DbCommand (110ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [Description], [DonorId], [Name], [TypeGift], [WinnerId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-12-23 20:22:46.448 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'WebApi.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6f4324a3-9283-42b8-bf14-08b6178f0c32
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6f4324a3-9283-42b8-bf14-08b6178f0c32
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-23 20:22:46.626 +02:00 [ERR] cant create gift
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6f4324a3-9283-42b8-bf14-08b6178f0c32
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TrickyTrayAPI.Repositories.GiftRepository.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Repositories\GiftRepository.cs:line 33
   at TrickyTrayAPI.Services.GiftService.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Services\GiftService.cs:line 62
2025-12-23 20:22:46.765 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 687.3702ms
2025-12-23 20:22:46.770 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:22:46.779 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:6f4324a3-9283-42b8-bf14-08b6178f0c32
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TrickyTrayAPI.Repositories.GiftRepository.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Repositories\GiftRepository.cs:line 33
   at TrickyTrayAPI.Services.GiftService.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Services\GiftService.cs:line 62
   at TrickyTrayAPI.Controllers.GiftController.Create(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Controllers\GiftController.cs:line 45
   at lambda_method32(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 20:22:46.810 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 500 null text/plain; charset=utf-8 757.2276ms
2025-12-23 20:25:47.252 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:25:47.280 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:25:47.341 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:25:47.343 +02:00 [INF] Hosting environment: Development
2025-12-23 20:25:47.345 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:25:47.959 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:25:48.103 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 148.6236ms
2025-12-23 20:25:48.107 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:25:48.107 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:25:48.119 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 12.6339ms
2025-12-23 20:25:48.161 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0555ms
2025-12-23 20:25:48.197 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:25:48.214 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.9895ms
2025-12-23 20:26:07.051 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 115
2025-12-23 20:26:07.068 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:26:07.101 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:26:07.579 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-23 20:26:07.597 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 492.0402ms
2025-12-23 20:26:07.599 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:26:07.602 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 400 null application/problem+json; charset=utf-8 550.7635ms
2025-12-23 20:26:27.927 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 117
2025-12-23 20:26:27.942 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:26:27.944 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:26:27.962 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-23 20:26:27.968 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 19.6978ms
2025-12-23 20:26:27.972 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:26:27.977 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 400 null application/problem+json; charset=utf-8 51.463ms
2025-12-23 20:26:35.381 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 106
2025-12-23 20:26:35.386 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:26:35.387 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:26:35.394 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-23 20:26:35.397 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 6.1726ms
2025-12-23 20:26:35.405 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:26:35.408 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 400 null application/problem+json; charset=utf-8 27.8914ms
2025-12-23 20:26:36.362 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 106
2025-12-23 20:26:36.372 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:26:36.374 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:26:36.378 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-23 20:26:36.382 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 4.8107ms
2025-12-23 20:26:36.384 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:26:36.387 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 400 null application/problem+json; charset=utf-8 24.3743ms
2025-12-23 20:26:36.924 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 106
2025-12-23 20:26:36.929 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:26:36.931 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:26:36.937 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-23 20:26:36.939 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 3.757ms
2025-12-23 20:26:36.941 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:26:36.942 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 400 null application/problem+json; charset=utf-8 17.9968ms
2025-12-23 20:26:53.711 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Gift/1 - null null
2025-12-23 20:26:53.720 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.GetById (TrickyTrayAPI)'
2025-12-23 20:26:53.728 +02:00 [INF] Route matched with {action = "GetById", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.DTOs.GetGiftDTO]] GetById(Int32) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:26:55.456 +02:00 [INF] Executed DbCommand (98ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[TypeGift], [g].[WinnerId]
FROM [Gifts] AS [g]
WHERE [g].[Id] = @__id_0
2025-12-23 20:26:55.486 +02:00 [INF] get gift by id 1
2025-12-23 20:27:05.832 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:27:05.863 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:27:05.926 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:27:05.928 +02:00 [INF] Hosting environment: Development
2025-12-23 20:27:05.929 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:27:06.523 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:27:06.668 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 149.6071ms
2025-12-23 20:27:06.673 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:27:06.673 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:27:06.692 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 18.9001ms
2025-12-23 20:27:06.727 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.7708ms
2025-12-23 20:27:06.759 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:27:06.776 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 17.6103ms
2025-12-23 20:28:16.271 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:28:16.304 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:28:16.367 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:28:16.370 +02:00 [INF] Hosting environment: Development
2025-12-23 20:28:16.371 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:28:16.833 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:28:16.979 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 150.1606ms
2025-12-23 20:28:16.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:28:16.988 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:28:17.009 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 22.0546ms
2025-12-23 20:28:17.032 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 44.6035ms
2025-12-23 20:28:17.092 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:28:17.107 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.2078ms
2025-12-23 20:28:29.469 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 84
2025-12-23 20:28:29.482 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:28:29.508 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:28:31.629 +02:00 [INF] Executed DbCommand (71ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [Description], [DonorId], [Name], [TypeGift], [WinnerId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-12-23 20:28:31.675 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'WebApi.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f9ca822a-f0b1-492a-809a-de4623935106
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f9ca822a-f0b1-492a-809a-de4623935106
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-23 20:28:31.737 +02:00 [ERR] cant create gift
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f9ca822a-f0b1-492a-809a-de4623935106
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TrickyTrayAPI.Repositories.GiftRepository.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Repositories\GiftRepository.cs:line 33
   at TrickyTrayAPI.Services.GiftService.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Services\GiftService.cs:line 62
2025-12-23 20:28:31.796 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 2282.2484ms
2025-12-23 20:28:31.799 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:28:31.804 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:f9ca822a-f0b1-492a-809a-de4623935106
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TrickyTrayAPI.Repositories.GiftRepository.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Repositories\GiftRepository.cs:line 33
   at TrickyTrayAPI.Services.GiftService.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Services\GiftService.cs:line 62
   at TrickyTrayAPI.Controllers.GiftController.Create(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Controllers\GiftController.cs:line 45
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 20:28:31.823 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 500 null text/plain; charset=utf-8 2353.6138ms
2025-12-23 20:28:58.741 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 108
2025-12-23 20:28:58.757 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:28:58.762 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:28:58.774 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-23 20:28:58.789 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 24.4208ms
2025-12-23 20:28:58.793 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:28:58.795 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 400 null application/problem+json; charset=utf-8 54.6278ms
2025-12-23 20:28:59.890 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 108
2025-12-23 20:28:59.896 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:28:59.899 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:28:59.907 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-23 20:28:59.910 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 8.1297ms
2025-12-23 20:28:59.912 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:28:59.914 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 400 null application/problem+json; charset=utf-8 24.0903ms
2025-12-23 20:29:00.323 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 108
2025-12-23 20:29:00.328 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:29:00.330 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:29:00.334 +02:00 [INF] Executing BadRequestObjectResult, writing value of type 'Microsoft.AspNetCore.Mvc.ValidationProblemDetails'.
2025-12-23 20:29:00.337 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 4.7203ms
2025-12-23 20:29:00.340 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:29:00.342 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 400 null application/problem+json; charset=utf-8 19.2526ms
2025-12-23 20:29:31.979 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:29:32.006 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:29:32.081 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:29:32.084 +02:00 [INF] Hosting environment: Development
2025-12-23 20:29:32.093 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:29:32.393 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:29:32.535 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 146.8332ms
2025-12-23 20:29:32.543 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:29:32.543 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:29:32.561 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 18.137ms
2025-12-23 20:29:32.591 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 48.1127ms
2025-12-23 20:29:32.638 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:29:32.654 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.3247ms
2025-12-23 20:29:52.442 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:29:52.472 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:29:52.536 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:29:52.538 +02:00 [INF] Hosting environment: Development
2025-12-23 20:29:52.539 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:29:52.816 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:29:52.977 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 166.3613ms
2025-12-23 20:29:52.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:29:52.981 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:29:53.000 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 18.9975ms
2025-12-23 20:29:53.027 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.0822ms
2025-12-23 20:29:53.061 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:29:53.078 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 16.3388ms
2025-12-23 20:30:02.822 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 84
2025-12-23 20:30:02.838 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:30:02.869 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:30:05.327 +02:00 [INF] Executed DbCommand (116ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Int32), @p5='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [Description], [DonorId], [Name], [TypeGift], [WinnerId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4, @p5);
2025-12-23 20:30:05.374 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'WebApi.Data.AppDbContext'.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:69563f4b-d3a7-4bd6-b19b-6624a1c45c59
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:69563f4b-d3a7-4bd6-b19b-6624a1c45c59
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-23 20:30:05.439 +02:00 [ERR] cant create gift
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:69563f4b-d3a7-4bd6-b19b-6624a1c45c59
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TrickyTrayAPI.Repositories.GiftRepository.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Repositories\GiftRepository.cs:line 33
   at TrickyTrayAPI.Services.GiftService.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Services\GiftService.cs:line 62
2025-12-23 20:30:05.499 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 2623.654ms
2025-12-23 20:30:05.501 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:30:05.506 +02:00 [ERR] An unhandled exception has occurred while executing the request.
Microsoft.EntityFrameworkCore.DbUpdateException: An error occurred while saving the entity changes. See the inner exception for details.
 ---> Microsoft.Data.SqlClient.SqlException (0x80131904): Cannot insert the value NULL into column 'WinnerId', table 'DemoToTest_1.dbo.Gifts'; column does not allow nulls. INSERT fails.
   at Microsoft.Data.SqlClient.SqlConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.SqlInternalConnection.OnError(SqlException exception, Boolean breakConnection, Action`1 wrapCloseInAction)
   at Microsoft.Data.SqlClient.TdsParser.ThrowExceptionAndWarning(TdsParserStateObject stateObj, Boolean callerHasConnectionLock, Boolean asyncClose)
   at Microsoft.Data.SqlClient.TdsParser.TryRun(RunBehavior runBehavior, SqlCommand cmdHandler, SqlDataReader dataStream, BulkCopySimpleResultSet bulkCopyHandler, TdsParserStateObject stateObj, Boolean& dataReady)
   at Microsoft.Data.SqlClient.SqlDataReader.TryHasMoreRows(Boolean& moreRows)
   at Microsoft.Data.SqlClient.SqlDataReader.TryReadInternal(Boolean setTimeout, Boolean& more)
   at Microsoft.Data.SqlClient.SqlDataReader.ReadAsyncExecute(Task task, Object state)
   at Microsoft.Data.SqlClient.SqlDataReader.InvokeAsyncCall[T](SqlDataReaderBaseAsyncCallContext`1 context)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
ClientConnectionId:69563f4b-d3a7-4bd6-b19b-6624a1c45c59
Error Number:515,State:2,Class:16
   --- End of inner exception stack trace ---
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeResultSetAsync(Int32 startCommandIndex, RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.AffectedCountModificationCommandBatch.ConsumeAsync(RelationalDataReader reader, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.ReaderModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Update.Internal.SqlServerModificationCommandBatch.ExecuteAsync(IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Update.Internal.BatchExecutor.ExecuteAsync(IEnumerable`1 commandBatches, IRelationalConnection connection, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalDatabase.SaveChangesAsync(IList`1 entries, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TrickyTrayAPI.Repositories.GiftRepository.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Repositories\GiftRepository.cs:line 33
   at TrickyTrayAPI.Services.GiftService.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Services\GiftService.cs:line 62
   at TrickyTrayAPI.Controllers.GiftController.Create(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Controllers\GiftController.cs:line 45
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeInnerFilterAsync>g__Awaited|13_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 20:30:05.537 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 500 null text/plain; charset=utf-8 2715.7377ms
2025-12-23 20:40:10.730 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:40:10.759 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:40:10.905 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:40:10.908 +02:00 [INF] Hosting environment: Development
2025-12-23 20:40:10.909 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:40:11.279 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:40:11.427 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 153.8141ms
2025-12-23 20:40:11.430 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:40:11.431 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:40:11.451 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 21.1191ms
2025-12-23 20:40:11.484 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.2129ms
2025-12-23 20:40:11.531 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:40:11.544 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 12.7085ms
2025-12-23 20:41:05.312 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-23 20:41:05.351 +02:00 [INF] Acquiring an exclusive lock for migration application. See https://aka.ms/efcore-docs-migrations-lock for more information if this takes too long.
2025-12-23 20:41:05.363 +02:00 [INF] Executed DbCommand (9ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_getapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session', @LockMode = 'Exclusive';
SELECT @result
2025-12-23 20:41:05.402 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
IF OBJECT_ID(N'[__EFMigrationsHistory]') IS NULL
BEGIN
    CREATE TABLE [__EFMigrationsHistory] (
        [MigrationId] nvarchar(150) NOT NULL,
        [ProductVersion] nvarchar(32) NOT NULL,
        CONSTRAINT [PK___EFMigrationsHistory] PRIMARY KEY ([MigrationId])
    );
END;
2025-12-23 20:41:05.411 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT 1
2025-12-23 20:41:05.414 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT OBJECT_ID(N'[__EFMigrationsHistory]');
2025-12-23 20:41:05.418 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [MigrationId], [ProductVersion]
FROM [__EFMigrationsHistory]
ORDER BY [MigrationId];
2025-12-23 20:41:05.426 +02:00 [INF] Applying migration '20251223184055_InitialCreate5'.
2025-12-23 20:41:05.446 +02:00 [INF] Executed DbCommand (3ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Gifts] DROP CONSTRAINT [FK_Gifts_Users_WinnerId];
2025-12-23 20:41:05.464 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var sysname;
SELECT @var = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Gifts]') AND [c].[name] = N'TypeGift');
IF @var IS NOT NULL EXEC(N'ALTER TABLE [Gifts] DROP CONSTRAINT [' + @var + '];');
ALTER TABLE [Gifts] DROP COLUMN [TypeGift];
2025-12-23 20:41:05.481 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var1 sysname;
SELECT @var1 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Gifts]') AND [c].[name] = N'WinnerId');
IF @var1 IS NOT NULL EXEC(N'ALTER TABLE [Gifts] DROP CONSTRAINT [' + @var1 + '];');
ALTER TABLE [Gifts] ALTER COLUMN [WinnerId] int NULL;
2025-12-23 20:41:05.499 +02:00 [INF] Executed DbCommand (16ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var2 sysname;
SELECT @var2 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Gifts]') AND [c].[name] = N'Name');
IF @var2 IS NOT NULL EXEC(N'ALTER TABLE [Gifts] DROP CONSTRAINT [' + @var2 + '];');
ALTER TABLE [Gifts] ALTER COLUMN [Name] nvarchar(100) NOT NULL;
2025-12-23 20:41:05.516 +02:00 [INF] Executed DbCommand (15ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @var3 sysname;
SELECT @var3 = [d].[name]
FROM [sys].[default_constraints] [d]
INNER JOIN [sys].[columns] [c] ON [d].[parent_column_id] = [c].[column_id] AND [d].[parent_object_id] = [c].[object_id]
WHERE ([d].[parent_object_id] = OBJECT_ID(N'[Gifts]') AND [c].[name] = N'Description');
IF @var3 IS NOT NULL EXEC(N'ALTER TABLE [Gifts] DROP CONSTRAINT [' + @var3 + '];');
ALTER TABLE [Gifts] ALTER COLUMN [Description] nvarchar(200) NOT NULL;
2025-12-23 20:41:05.520 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
ALTER TABLE [Gifts] ADD CONSTRAINT [FK_Gifts_Users_WinnerId] FOREIGN KEY ([WinnerId]) REFERENCES [Users] ([Id]);
2025-12-23 20:41:05.523 +02:00 [INF] Executed DbCommand (1ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
INSERT INTO [__EFMigrationsHistory] ([MigrationId], [ProductVersion])
VALUES (N'20251223184055_InitialCreate5', N'9.0.11');
2025-12-23 20:41:05.528 +02:00 [INF] Executed DbCommand (2ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
DECLARE @result int;
EXEC @result = sp_releaseapplock @Resource = '__EFMigrationsLock', @LockOwner = 'Session';
SELECT @result
2025-12-23 20:42:58.141 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:42:58.169 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:42:58.241 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:42:58.249 +02:00 [INF] Hosting environment: Development
2025-12-23 20:42:58.252 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:42:58.446 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:42:58.604 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 162.7633ms
2025-12-23 20:42:58.606 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:42:58.606 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:42:58.621 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 15.151ms
2025-12-23 20:42:58.652 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 46.3086ms
2025-12-23 20:42:58.681 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:42:58.698 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.2381ms
2025-12-23 20:43:03.257 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Gift - null null
2025-12-23 20:43:03.268 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.GetAll (TrickyTrayAPI)'
2025-12-23 20:43:03.285 +02:00 [INF] Route matched with {action = "GetAll", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetGiftDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:43:04.828 +02:00 [INF] Executed DbCommand (20ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[WinnerId]
FROM [Gifts] AS [g]
2025-12-23 20:43:04.886 +02:00 [INF] get gifts
2025-12-23 20:43:04.894 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TrickyTrayAPI.Models.Gift, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TrickyTrayAPI.DTOs.GetGiftDTO, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-23 20:44:49.965 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:44:49.996 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:44:50.076 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:44:50.080 +02:00 [INF] Hosting environment: Development
2025-12-23 20:44:50.082 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:44:50.279 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:44:50.419 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 146.535ms
2025-12-23 20:44:50.422 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:44:50.422 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:44:50.441 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 19.1974ms
2025-12-23 20:44:50.476 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.0507ms
2025-12-23 20:44:50.515 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:44:50.538 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 23.2888ms
2025-12-23 20:44:53.835 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Gift - null null
2025-12-23 20:44:53.848 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.GetAll (TrickyTrayAPI)'
2025-12-23 20:44:53.868 +02:00 [INF] Route matched with {action = "GetAll", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetGiftDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:44:56.014 +02:00 [INF] Executed DbCommand (21ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[WinnerId]
FROM [Gifts] AS [g]
2025-12-23 20:44:56.071 +02:00 [INF] get gifts
2025-12-23 20:44:56.080 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TrickyTrayAPI.Models.Gift, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TrickyTrayAPI.DTOs.GetGiftDTO, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-23 20:45:03.643 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:45:03.676 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:45:03.738 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:45:03.740 +02:00 [INF] Hosting environment: Development
2025-12-23 20:45:03.743 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:45:04.224 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:45:04.362 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 142.9901ms
2025-12-23 20:45:04.366 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:45:04.367 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:45:04.389 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 22.7591ms
2025-12-23 20:45:04.422 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 54.7223ms
2025-12-23 20:45:04.469 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:45:04.488 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.2027ms
2025-12-23 20:45:21.534 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 81
2025-12-23 20:45:21.546 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:45:21.576 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:45:23.870 +02:00 [INF] Executed DbCommand (106ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [Description], [DonorId], [Name], [WinnerId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-12-23 20:45:23.906 +02:00 [INF] create gift 12
2025-12-23 20:48:10.893 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:48:10.923 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:48:10.985 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:48:10.987 +02:00 [INF] Hosting environment: Development
2025-12-23 20:48:10.988 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:48:11.348 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:48:11.496 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 154.9774ms
2025-12-23 20:48:11.502 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:48:11.503 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:48:11.521 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 19.6475ms
2025-12-23 20:48:11.569 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 65.6285ms
2025-12-23 20:48:11.618 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:48:11.631 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 13.1841ms
2025-12-23 20:48:14.573 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Donors - null null
2025-12-23 20:48:14.582 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 20:48:14.599 +02:00 [INF] Route matched with {action = "GetAll", controller = "Donors"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetDonorDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.DonorsController (TrickyTrayAPI).
2025-12-23 20:48:17.381 +02:00 [INF] Executed DbCommand (43ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [d].[Id], [d].[Email], [d].[Name], [d].[PhoneNumber]
FROM [Donors] AS [d]
2025-12-23 20:48:17.462 +02:00 [INF] get donors
2025-12-23 20:48:17.469 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TrickyTrayAPI.Models.Donor, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TrickyTrayAPI.DTOs.GetDonorDTO, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-23 20:48:17.495 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI) in 2872.3458ms
2025-12-23 20:48:17.500 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.DonorsController.GetAll (TrickyTrayAPI)'
2025-12-23 20:48:17.509 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Donors - 200 null application/json; charset=utf-8 2936.627ms
2025-12-23 20:48:23.158 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Gift - null null
2025-12-23 20:48:23.167 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.GetAll (TrickyTrayAPI)'
2025-12-23 20:48:23.174 +02:00 [INF] Route matched with {action = "GetAll", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetGiftDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:48:23.216 +02:00 [INF] Executed DbCommand (8ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[WinnerId]
FROM [Gifts] AS [g]
2025-12-23 20:48:23.242 +02:00 [INF] get gifts
2025-12-23 20:48:23.246 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TrickyTrayAPI.Models.Gift, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TrickyTrayAPI.DTOs.GetGiftDTO, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-23 20:50:56.566 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:50:56.600 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:50:56.674 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:50:56.681 +02:00 [INF] Hosting environment: Development
2025-12-23 20:50:56.683 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:50:56.762 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:50:56.917 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 161.2979ms
2025-12-23 20:50:56.919 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:50:56.920 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:50:56.938 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 19.0463ms
2025-12-23 20:50:56.961 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 41.1995ms
2025-12-23 20:50:56.998 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:50:57.014 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.9062ms
2025-12-23 20:51:34.279 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:51:34.312 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:51:34.480 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:51:34.487 +02:00 [INF] Hosting environment: Development
2025-12-23 20:51:34.489 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:51:34.699 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:51:34.857 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 165.1641ms
2025-12-23 20:51:34.862 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:51:34.863 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:51:34.881 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 19.6036ms
2025-12-23 20:51:34.918 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 56.5223ms
2025-12-23 20:51:34.953 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:51:34.972 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.6944ms
2025-12-23 20:53:45.713 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:53:45.743 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:53:45.808 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:53:45.810 +02:00 [INF] Hosting environment: Development
2025-12-23 20:53:45.813 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:53:46.253 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:53:46.407 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 159.1267ms
2025-12-23 20:53:46.413 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:53:46.413 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:53:46.441 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 30.0116ms
2025-12-23 20:53:46.465 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 53.7328ms
2025-12-23 20:53:46.503 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:53:46.521 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.0061ms
2025-12-23 20:53:49.515 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/api/Gift - null null
2025-12-23 20:53:49.527 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.GetAll (TrickyTrayAPI)'
2025-12-23 20:53:49.544 +02:00 [INF] Route matched with {action = "GetAll", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[System.Collections.Generic.IEnumerable`1[TrickyTrayAPI.DTOs.GetGiftDTO]]] GetAll() on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:53:51.796 +02:00 [INF] Executed DbCommand (48ms) [Parameters=[], CommandType='"Text"', CommandTimeout='30']
SELECT [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[WinnerId], [c].[Id], [c].[Name], [d].[Id], [d].[Email], [d].[Name], [d].[PhoneNumber]
FROM [Gifts] AS [g]
INNER JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
2025-12-23 20:53:51.919 +02:00 [INF] get gifts
2025-12-23 20:53:51.933 +02:00 [INF] Executing OkObjectResult, writing value of type 'System.Linq.Enumerable+SelectListIterator`2[[TrickyTrayAPI.Models.Gift, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null],[TrickyTrayAPI.DTOs.GetGiftDTO, TrickyTrayAPI, Version=1.0.0.0, Culture=neutral, PublicKeyToken=null]]'.
2025-12-23 20:53:51.957 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.GetAll (TrickyTrayAPI) in 2404.1357ms
2025-12-23 20:53:51.962 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.GetAll (TrickyTrayAPI)'
2025-12-23 20:53:51.973 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/api/Gift - 200 null application/json; charset=utf-8 2459.7734ms
2025-12-23 20:56:11.036 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 20:56:11.082 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 20:56:11.202 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 20:56:11.204 +02:00 [INF] Hosting environment: Development
2025-12-23 20:56:11.207 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 20:56:11.483 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 20:56:11.642 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 166.217ms
2025-12-23 20:56:11.645 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 20:56:11.646 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 20:56:11.657 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 12.1929ms
2025-12-23 20:56:11.691 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 45.099ms
2025-12-23 20:56:11.720 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 20:56:11.740 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 19.6146ms
2025-12-23 20:56:20.303 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 84
2025-12-23 20:56:20.319 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 20:56:20.352 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 20:56:22.995 +02:00 [INF] Executed DbCommand (96ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [Description], [DonorId], [Name], [WinnerId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-12-23 20:56:23.059 +02:00 [INF] create gift 13
2025-12-23 21:02:07.691 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 21:02:07.722 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 21:02:07.786 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 21:02:07.788 +02:00 [INF] Hosting environment: Development
2025-12-23 21:02:07.789 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 21:02:08.277 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 21:02:08.438 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 166.143ms
2025-12-23 21:02:08.447 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 21:02:08.454 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 21:02:08.472 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 25.1056ms
2025-12-23 21:02:08.505 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 52.8079ms
2025-12-23 21:02:08.539 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 21:02:08.558 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 18.8703ms
2025-12-23 21:02:18.389 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 84
2025-12-23 21:02:18.404 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 21:02:18.427 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 21:02:55.524 +02:00 [INF] Executed DbCommand (131ms) [Parameters=[@p0='?' (DbType = Int32), @p1='?' (Size = 200), @p2='?' (DbType = Int32), @p3='?' (Size = 100), @p4='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SET IMPLICIT_TRANSACTIONS OFF;
SET NOCOUNT ON;
INSERT INTO [Gifts] ([CategoryId], [Description], [DonorId], [Name], [WinnerId])
OUTPUT INSERTED.[Id]
VALUES (@p0, @p1, @p2, @p3, @p4);
2025-12-23 21:02:58.738 +02:00 [INF] create gift 14
2025-12-23 21:07:36.305 +02:00 [INF] Now listening on: https://localhost:7260
2025-12-23 21:07:36.333 +02:00 [INF] Now listening on: http://localhost:5273
2025-12-23 21:07:36.400 +02:00 [INF] Application started. Press Ctrl+C to shut down.
2025-12-23 21:07:36.403 +02:00 [INF] Hosting environment: Development
2025-12-23 21:07:36.405 +02:00 [INF] Content root path: M:\project\TrickyTrayAPI\TrickyTrayAPI
2025-12-23 21:07:36.784 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/index.html - null null
2025-12-23 21:07:36.929 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/index.html - 200 null text/html;charset=utf-8 150.2055ms
2025-12-23 21:07:36.933 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_vs/browserLink - null null
2025-12-23 21:07:36.933 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - null null
2025-12-23 21:07:36.959 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_framework/aspnetcore-browser-refresh.js - 200 16511 application/javascript; charset=utf-8 26.2464ms
2025-12-23 21:07:36.984 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/_vs/browserLink - 200 null text/javascript; charset=UTF-8 50.9891ms
2025-12-23 21:07:37.021 +02:00 [INF] Request starting HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - null null
2025-12-23 21:07:37.036 +02:00 [INF] Request finished HTTP/2 GET https://localhost:7260/swagger/v1/swagger.json - 200 null application/json;charset=utf-8 15.7062ms
2025-12-23 21:07:44.694 +02:00 [INF] Request starting HTTP/2 POST https://localhost:7260/api/Gift - application/json 84
2025-12-23 21:07:44.707 +02:00 [INF] Executing endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 21:07:44.739 +02:00 [INF] Route matched with {action = "Create", controller = "Gift"}. Executing controller action with signature System.Threading.Tasks.Task`1[Microsoft.AspNetCore.Mvc.ActionResult`1[TrickyTrayAPI.Models.Gift]] Create(TrickyTrayAPI.DTOs.CreateGiftDTO) on controller TrickyTrayAPI.Controllers.GiftController (TrickyTrayAPI).
2025-12-23 21:07:47.555 +02:00 [ERR] An exception occurred in the database while saving changes for context type 'WebApi.Data.AppDbContext'.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
2025-12-23 21:07:47.761 +02:00 [ERR] cant create gift
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TrickyTrayAPI.Repositories.GiftRepository.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Repositories\GiftRepository.cs:line 34
   at TrickyTrayAPI.Services.GiftService.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Services\GiftService.cs:line 62
2025-12-23 21:07:47.871 +02:00 [INF] Executed action TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI) in 3125.3002ms
2025-12-23 21:07:47.874 +02:00 [INF] Executed endpoint 'TrickyTrayAPI.Controllers.GiftController.Create (TrickyTrayAPI)'
2025-12-23 21:07:47.890 +02:00 [ERR] An unhandled exception has occurred while executing the request.
System.InvalidOperationException: A second operation was started on this context instance before a previous operation completed. This is usually caused by different threads concurrently using the same instance of DbContext. For more information on how to avoid threading issues with DbContext, see https://go.microsoft.com/fwlink/?linkid=2097913.
   at Microsoft.EntityFrameworkCore.Infrastructure.Internal.ConcurrencyDetector.EnterCriticalSection()
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(IList`1 entriesToSave, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.ChangeTracking.Internal.StateManager.SaveChangesAsync(StateManager stateManager, Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.DbContext.SaveChangesAsync(Boolean acceptAllChangesOnSuccess, CancellationToken cancellationToken)
   at TrickyTrayAPI.Repositories.GiftRepository.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Repositories\GiftRepository.cs:line 34
   at TrickyTrayAPI.Services.GiftService.AddAsync(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Services\GiftService.cs:line 62
   at TrickyTrayAPI.Controllers.GiftController.Create(CreateGiftDTO gift) in M:\project\TrickyTrayAPI\TrickyTrayAPI\Controllers\GiftController.cs:line 45
   at lambda_method5(Closure, Object)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ActionMethodExecutor.AwaitableObjectResultExecutor.Execute(ActionContext actionContext, IActionResultTypeMapper mapper, ObjectMethodExecutor executor, Object controller, Object[] arguments)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeActionMethodAsync>g__Awaited|12_0(ControllerActionInvoker invoker, ValueTask`1 actionResultValueTask)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.<InvokeNextActionFilterAsync>g__Awaited|10_0(ControllerActionInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Rethrow(ActionExecutedContextSealed context)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.Next(State& next, Scope& scope, Object& state, Boolean& isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ControllerActionInvoker.InvokeInnerFilterAsync()
--- End of stack trace from previous location ---
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeFilterPipelineAsync>g__Awaited|20_0(ResourceInvoker invoker, Task lastTask, State next, Scope scope, Object state, Boolean isCompleted)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Mvc.Infrastructure.ResourceInvoker.<InvokeAsync>g__Logged|17_1(ResourceInvoker invoker)
   at Microsoft.AspNetCore.Routing.EndpointMiddleware.<Invoke>g__AwaitRequestTask|7_0(Endpoint endpoint, Task requestTask, ILogger logger)
   at Microsoft.AspNetCore.Authorization.AuthorizationMiddleware.Invoke(HttpContext context)
   at Swashbuckle.AspNetCore.SwaggerUI.SwaggerUIMiddleware.Invoke(HttpContext httpContext)
   at Swashbuckle.AspNetCore.Swagger.SwaggerMiddleware.Invoke(HttpContext httpContext, ISwaggerProvider swaggerProvider)
   at Microsoft.AspNetCore.Authentication.AuthenticationMiddleware.Invoke(HttpContext context)
   at Microsoft.AspNetCore.Diagnostics.DeveloperExceptionPageMiddlewareImpl.Invoke(HttpContext context)
2025-12-23 21:07:47.940 +02:00 [INF] Request finished HTTP/2 POST https://localhost:7260/api/Gift - 500 null text/plain; charset=utf-8 3245.8377ms
2025-12-23 21:07:47.949 +02:00 [ERR] Failed executing DbCommand (38ms) [Parameters=[@__id_0='?' (DbType = Int32)], CommandType='"Text"', CommandTimeout='30']
SELECT TOP(1) [g].[Id], [g].[CategoryId], [g].[Description], [g].[DonorId], [g].[Name], [g].[WinnerId], [c].[Id], [c].[Name], [d].[Id], [d].[Email], [d].[Name], [d].[PhoneNumber], [u].[Id], [u].[Email], [u].[FirstName], [u].[GiftId], [u].[LastName], [u].[PhoneNumber], [u].[TypeCostumer]
FROM [Gifts] AS [g]
INNER JOIN [Categories] AS [c] ON [g].[CategoryId] = [c].[Id]
INNER JOIN [Donors] AS [d] ON [g].[DonorId] = [d].[Id]
LEFT JOIN [Users] AS [u] ON [g].[WinnerId] = [u].[Id]
WHERE [g].[Id] = @__id_0
2025-12-23 21:07:47.962 +02:00 [ERR] An exception occurred while iterating over the results of a query for context type 'WebApi.Data.AppDbContext'.
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
System.InvalidOperationException: Invalid operation. The connection is closed.
   at Microsoft.Data.SqlClient.SqlCommand.<>c.<ExecuteDbDataReaderAsync>b__211_0(Task`1 result)
   at System.Threading.Tasks.ContinuationResultTaskFromResultTask`2.InnerInvoke()
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
--- End of stack trace from previous location ---
   at System.Threading.ExecutionContext.RunInternal(ExecutionContext executionContext, ContextCallback callback, Object state)
   at System.Threading.Tasks.Task.ExecuteWithThreadLocal(Task& currentTaskSlot, Thread threadPoolThread)
--- End of stack trace from previous location ---
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Storage.RelationalCommand.ExecuteReaderAsync(RelationalCommandParameterObject parameterObject, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.InitializeReaderAsync(AsyncEnumerator enumerator, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.SqlServer.Storage.Internal.SqlServerExecutionStrategy.ExecuteAsync[TState,TResult](TState state, Func`4 operation, Func`4 verifySucceeded, CancellationToken cancellationToken)
   at Microsoft.EntityFrameworkCore.Query.Internal.SingleQueryingEnumerable`1.AsyncEnumerator.MoveNextAsync()
